{"version":"2.0","models":[{"Key":"1414","Name":"ServiceRequestProvider","Definition":{"version":"v2","attributes":[],"flows":{"blocks":[{"title":"CurrentUser","type":"currentuser","id":"91a7815b-27dd-41d0-8fd8-d3b287a8c5f2","position":{"left":77,"top":317.0000114440918},"surface":"CreateRequest","connections":{"inputs":[],"outputs":[{"source":"91a7815b-27dd-41d0-8fd8-d3b287a8c5f2:output:UserKey","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:requestedUserKey"},{"source":"91a7815b-27dd-41d0-8fd8-d3b287a8c5f2:output:UserKey","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:requestedUserKey"},{"source":"91a7815b-27dd-41d0-8fd8-d3b287a8c5f2:output:FullName","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:requestedUserName"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"UserKey","type":"","label":"User Key","description":"","documentation":"","example":"","dataType":""},{"id":"FullName","type":"","label":"Name","description":"","documentation":"","example":"","dataType":""},{"id":"Phone","type":"","label":"Phone","description":"","documentation":"","example":"","dataType":""},{"id":"Email","type":"","label":"Email","description":"","documentation":"","example":"","dataType":""},{"id":"LoginID","type":"","label":"Login ID","description":"","documentation":"","example":"","dataType":""},{"id":"UserType","type":"","label":"Type","description":"","documentation":"","example":"","dataType":""},{"id":"SiteKey","type":"","label":"Site","description":"","documentation":"","example":"","dataType":""}]},{"title":"Action","type":"actionstart","id":"b713b59d-4088-42c3-d829-cd13e52f946f","position":{"left":90,"top":99},"surface":"UpdateRequest","connections":{"inputs":[],"outputs":[{"source":"b713b59d-4088-42c3-d829-cd13e52f946f:output:data","target":"a849db65-c831-455f-ab9d-a5a9819d19f9:input:input"},{"source":"b713b59d-4088-42c3-d829-cd13e52f946f:output:id","target":"0cabcf21-387b-44d0-a223-e5bac16b9de6:input:_id"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"id","type":"","label":"id","description":"","documentation":"","example":"","dataType":""},{"id":"data","type":"","label":"data","description":"","documentation":"","example":"","dataType":""}],"actionName":"UpdateRequest","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false,"docs":""},{"title":"Update one document","type":"modelcollections:updateone","id":"0cabcf21-387b-44d0-a223-e5bac16b9de6","position":{"left":540,"top":100},"surface":"UpdateRequest","connections":{"inputs":[{"source":"b713b59d-4088-42c3-d829-cd13e52f946f:output:id","target":"0cabcf21-387b-44d0-a223-e5bac16b9de6:input:_id"},{"source":"a849db65-c831-455f-ab9d-a5a9819d19f9:output:output","target":"0cabcf21-387b-44d0-a223-e5bac16b9de6:input:__data__"}],"outputs":[{"source":"0cabcf21-387b-44d0-a223-e5bac16b9de6:output:output","target":"a6d29f86-3c5c-4011-9db4-dba2557ba7a7:input:input"}]},"inputValues":[{"id":"__data__","type":"text","label":"Data","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"_id","type":"","label":"_id","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""}],"CollectionName":"43f8d355-fe35-4474-c11b-a6fe651f3ceb","configuration":"[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"_id\",\"Operator\":\"eq\",\"Value\":\"_id\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":false,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Parse JSON","type":"parsejson","id":"a849db65-c831-455f-ab9d-a5a9819d19f9","position":{"left":320,"top":100},"surface":"UpdateRequest","connections":{"inputs":[{"source":"b713b59d-4088-42c3-d829-cd13e52f946f:output:data","target":"a849db65-c831-455f-ab9d-a5a9819d19f9:input:input"}],"outputs":[{"source":"a849db65-c831-455f-ab9d-a5a9819d19f9:output:output","target":"0cabcf21-387b-44d0-a223-e5bac16b9de6:input:__data__"}]},"inputValues":[{"id":"input","type":"","label":"Input","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"output","type":"","label":"Output","description":"","documentation":"","example":"","dataType":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""}]},{"title":"Output","type":"actionoutput","id":"14e2286e-03e6-4f6a-df50-e87209027c1f","position":{"left":568,"top":103},"surface":"GetRequests","connections":{"inputs":[{"source":"1850d292-bcc4-4b72-d127-e9c9050151de:output:data","target":"14e2286e-03e6-4f6a-df50-e87209027c1f:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"requests"},{"title":"Action","type":"actionstart","id":"8fed09ca-d456-417e-c652-ac5320841fed","position":{"left":100,"top":100},"surface":"GetRequests","connections":{"inputs":[],"outputs":[{"source":"8fed09ca-d456-417e-c652-ac5320841fed:output:max","target":"1850d292-bcc4-4b72-d127-e9c9050151de:input:limit"},{"source":"8fed09ca-d456-417e-c652-ac5320841fed:output:last","target":"1850d292-bcc4-4b72-d127-e9c9050151de:input:skip"},{"source":"8fed09ca-d456-417e-c652-ac5320841fed:output:args","target":"1850d292-bcc4-4b72-d127-e9c9050151de:input:args"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"max","type":"","label":"max","description":"","documentation":"","example":"","dataType":""},{"id":"last","type":"","label":"last","description":"","documentation":"","example":"","dataType":""},{"id":"args","type":"","label":"args","description":"","documentation":"","example":"","dataType":""}],"actionName":"GetRequests","initiate":false,"published":false,"debug":true,"roles":[],"static":true,"canOverrideCredentials":false,"docs":""},{"title":"Output","type":"actionoutput","id":"0269b6de-d948-4e4e-fa0c-7b29c9560534","position":{"left":1041.9999732971191,"top":57},"surface":"UpdateRequestStatus","connections":{"inputs":[{"source":"1a7d7b3d-159e-495e-e6de-a3723fbf18fb:output:output","target":"0269b6de-d948-4e4e-fa0c-7b29c9560534:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":""},{"title":"Make JSON Object","type":"jsonobject","id":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1","position":{"left":490.0000343322754,"top":195.00000762939453},"surface":"UpdateRequestStatus","connections":{"inputs":[{"source":"3e9f4197-259a-4e5f-8ca2-e4112a95adb2:output:status","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:status"},{"source":"452d9160-6b92-46eb-d20c-dbab050fc182:output:UserKey","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:processedUserKey"},{"source":"452d9160-6b92-46eb-d20c-dbab050fc182:output:FullName","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:processedUserName"},{"source":"258028ef-0ec1-44c4-ca66-111b28052797:output:date","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:processedAt"}],"outputs":[{"source":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:output:output","target":"1a7d7b3d-159e-495e-e6de-a3723fbf18fb:input:__data__"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"status","type":"","label":"status","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"processedUserName","type":"","label":"processedUserName","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"processedUserKey","type":"","label":"processedUserKey","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"processedAt","type":"","label":"processedAt","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"output","type":"","label":"Output JSON Object","description":"","documentation":"","example":"","dataType":""}]},{"title":"ES6Javascript","type":"es6javascript","id":"ff41ecc9-0c2f-47b5-a0eb-40b22a95d0a0","position":{"left":353,"top":458},"surface":"CreateRequest","connections":{"inputs":[],"outputs":[{"source":"ff41ecc9-0c2f-47b5-a0eb-40b22a95d0a0:output:date","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:requestedAt"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"date","type":"","label":"date","description":"","documentation":"","example":"","dataType":""}],"description":"","code":"runtime.done({date: (new Date()).toISOString()})","timeoutMilliseconds":5000},{"title":"Insert one document","type":"modelcollections:insertone","id":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d","position":{"left":808,"top":167.00000381469727},"surface":"CreateRequest","connections":{"inputs":[{"source":"6e07e367-e751-44f6-8ddc-05a638ef344e:output:title","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:title"},{"source":"6e07e367-e751-44f6-8ddc-05a638ef344e:output:description","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:description"},{"source":"91a7815b-27dd-41d0-8fd8-d3b287a8c5f2:output:UserKey","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:requestedUserKey"},{"source":"91a7815b-27dd-41d0-8fd8-d3b287a8c5f2:output:FullName","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:requestedUserName"},{"source":"8e88e415-3281-4606-da9e-0e913b204eb5:output:refNo","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:referenceNumber"},{"source":"ff41ecc9-0c2f-47b5-a0eb-40b22a95d0a0:output:date","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:requestedAt"}],"outputs":[{"source":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:output:output","target":"15357e7c-45b2-4fbd-8089-32e85162595e:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"title","type":"","label":"title","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"processedUserKey","type":"","label":"processedUserKey","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"requestedUserName","type":"","label":"requestedUserName","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"description","type":"","label":"description","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"referenceNumber","type":"","label":"referenceNumber","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"status","type":"","label":"status","value":"pending","description":"","documentation":"","transformation":"","disablelog":""},{"id":"processedUserName","type":"","label":"processedUserName","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"notes","type":"","label":"notes","value":"[]","description":"","documentation":"","transformation":"json","disablelog":""},{"id":"requestedUserKey","type":"","label":"requestedUserKey","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"processedAt","type":"","label":"processedAt","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"requestedAt","type":"","label":"requestedAt","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"__data__","type":"text","label":"Data","value":"","description":"Data to be inserted","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""}],"CollectionName":"43f8d355-fe35-4474-c11b-a6fe651f3ceb","configuration":"[]","UpdateAsAttributes":true,"ReceiveIndividualFields":false,"timeout":5000},{"title":"Delete all document","type":"modelcollections:deleteall","id":"8a5a68eb-a8bb-408e-dad7-5a96fc27c24d","position":{"left":338,"top":103.99999618530273},"surface":"DeleteAll","connections":{"inputs":[{"source":"4efe18b4-1ab1-4ca6-b812-6366f1e9129d:output:output","target":"8a5a68eb-a8bb-408e-dad7-5a96fc27c24d:input:trigger"}],"outputs":[]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""}],"CollectionName":"43f8d355-fe35-4474-c11b-a6fe651f3ceb","configuration":"[]","UpdateAsAttributes":false,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Output","type":"actionoutput","id":"15357e7c-45b2-4fbd-8089-32e85162595e","position":{"left":1022,"top":70.00000381469727},"surface":"CreateRequest","connections":{"inputs":[{"source":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:output:output","target":"15357e7c-45b2-4fbd-8089-32e85162595e:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":""},{"title":"Output","type":"actionoutput","id":"a6d29f86-3c5c-4011-9db4-dba2557ba7a7","position":{"left":760,"top":100},"surface":"UpdateRequest","connections":{"inputs":[{"source":"0cabcf21-387b-44d0-a223-e5bac16b9de6:output:output","target":"a6d29f86-3c5c-4011-9db4-dba2557ba7a7:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":""},{"title":"ES6Javascript","type":"es6javascript","id":"8e88e415-3281-4606-da9e-0e913b204eb5","position":{"left":466,"top":20},"surface":"CreateRequest","connections":{"inputs":[],"outputs":[{"source":"8e88e415-3281-4606-da9e-0e913b204eb5:output:refNo","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:referenceNumber"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"refNo","type":"","label":"refNo","description":"","documentation":"","example":"","dataType":""}],"description":"","code":"\r\nlet id = (new Date().getTime().toString() + (Math.round(Math.random() * 100000)).toString()).substr(12, 6);\r\nlet date = new Date()\r\nlet _date = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate()\r\nruntime.done({ refNo: 'sr-' + _date + '-' + id })\r\n","timeoutMilliseconds":5000},{"title":"ES6Javascript","type":"es6javascript","id":"1850d292-bcc4-4b72-d127-e9c9050151de","position":{"left":365,"top":141},"surface":"GetRequests","connections":{"inputs":[{"source":"8fed09ca-d456-417e-c652-ac5320841fed:output:max","target":"1850d292-bcc4-4b72-d127-e9c9050151de:input:limit"},{"source":"8fed09ca-d456-417e-c652-ac5320841fed:output:last","target":"1850d292-bcc4-4b72-d127-e9c9050151de:input:skip"},{"source":"8fed09ca-d456-417e-c652-ac5320841fed:output:args","target":"1850d292-bcc4-4b72-d127-e9c9050151de:input:args"}],"outputs":[{"source":"1850d292-bcc4-4b72-d127-e9c9050151de:output:data","target":"14e2286e-03e6-4f6a-df50-e87209027c1f:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"limit","type":"","label":"limit","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"skip","type":"","label":"skip","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"args","type":"","label":"args","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"data","type":"","label":"data","description":"","documentation":"","example":"","dataType":""}],"description":"","code":"let { limit, skip, args } = runtime.inputs()\r\nlet collections = lucy.currentModel().collections()\r\n\r\n// get args \r\nif (typeof args == \"string\") {\r\n    try { args = JSON.parse(args) }\r\n    catch (e) { }\r\n}\r\n\r\nlet filters = {}\r\nlet options = {skip: skip, limit: limit, sort: {\"requestedAt\": 1}}\r\n\r\n// create filters \r\nif (args) {\r\n    let statusFilter = null\r\n    if (args[\"status\"] && args[\"status\"] != \"all\") {\r\n        statusFilter = { \"status\": args[\"status\"] }\r\n        filters = statusFilter\r\n    }\r\n\r\n    let queryyFilter = null\r\n    if (args[\"query\"] && args[\"query\"].trim().length > 0) {\r\n        let query = {\"$regex\": args[\"query\"],  \"$options\": \"i\"}\r\n        queryyFilter = { \"$or\": [\r\n            {\"title\": query},\r\n            {\"descriptions\": query},\r\n            {\"referenceNumber\": query},\r\n            {\"requestedUserName\": query},\r\n            {\"processedUserName\": query},\r\n        ]}\r\n\r\n        filters = queryyFilter\r\n    }\r\n\r\n    if(statusFilter && queryyFilter) filters = {\"$and\": [statusFilter, queryyFilter]}\r\n}\r\n\r\ncollections.findMany(\"requests\", filters, options)\r\n.then(res => runtime.done({data: res }))\r\n.catch(e => runtime.error(e))","timeoutMilliseconds":5000},{"title":"Action","type":"actionstart","id":"3e9f4197-259a-4e5f-8ca2-e4112a95adb2","position":{"left":89.00000381469727,"top":83},"surface":"UpdateRequestStatus","connections":{"inputs":[],"outputs":[{"source":"3e9f4197-259a-4e5f-8ca2-e4112a95adb2:output:id","target":"1a7d7b3d-159e-495e-e6de-a3723fbf18fb:input:_id"},{"source":"3e9f4197-259a-4e5f-8ca2-e4112a95adb2:output:status","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:status"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"id","type":"","label":"id","description":"","documentation":"","example":"","dataType":""},{"id":"status","type":"","label":"status","description":"","documentation":"","example":"","dataType":""}],"actionName":"UpdateRequestStatus","initiate":false,"published":false,"debug":true,"roles":[],"static":true,"canOverrideCredentials":false,"docs":""},{"title":"Action","type":"actionstart","id":"6e07e367-e751-44f6-8ddc-05a638ef344e","position":{"left":100,"top":100},"surface":"CreateRequest","connections":{"inputs":[],"outputs":[{"source":"6e07e367-e751-44f6-8ddc-05a638ef344e:output:title","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:title"},{"source":"6e07e367-e751-44f6-8ddc-05a638ef344e:output:title","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:title"},{"source":"6e07e367-e751-44f6-8ddc-05a638ef344e:output:title","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:title"},{"source":"6e07e367-e751-44f6-8ddc-05a638ef344e:output:description","target":"b67f7ede-0bbc-443e-d6f1-204ffd269e1d:input:description"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"title","type":"","label":"title","description":"","documentation":"","example":"","dataType":""},{"id":"description","type":"","label":"description","description":"","documentation":"","example":"","dataType":""}],"actionName":"CreateRequest","initiate":false,"published":false,"debug":true,"roles":[],"static":true,"canOverrideCredentials":false,"docs":""},{"title":"ES6Javascript","type":"es6javascript","id":"258028ef-0ec1-44c4-ca66-111b28052797","position":{"left":402.00000381469727,"top":449.99999237060547},"surface":"UpdateRequestStatus","connections":{"inputs":[],"outputs":[{"source":"258028ef-0ec1-44c4-ca66-111b28052797:output:date","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:processedAt"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"date","type":"","label":"date","description":"","documentation":"","example":"","dataType":""}],"description":"","code":"runtime.done({date: (new Date()).toISOString()})","timeoutMilliseconds":5000},{"title":"Find one document","type":"modelcollections:findone","id":"d9b00253-c1b3-437d-fe5f-933ee5adf89c","position":{"left":367,"top":143},"surface":"GetRequestDetails","connections":{"inputs":[{"source":"e4271621-0328-4fc2-8b27-00c4478d7057:output:id","target":"d9b00253-c1b3-437d-fe5f-933ee5adf89c:input:_id"}],"outputs":[{"source":"d9b00253-c1b3-437d-fe5f-933ee5adf89c:output:output","target":"1f69da27-d6e3-40d6-8152-a2e77225cbc7:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"_id","type":"","label":"_id","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"output","type":"","label":"All Output","description":"Entire Result","documentation":"","example":"","dataType":""}],"CollectionName":"43f8d355-fe35-4474-c11b-a6fe651f3ceb","configuration":"[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"_id\",\"Operator\":\"eq\",\"Value\":\"_id\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":false,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"CurrentUser","type":"currentuser","id":"452d9160-6b92-46eb-d20c-dbab050fc182","position":{"left":137.00000381469727,"top":311.99999237060547},"surface":"UpdateRequestStatus","connections":{"inputs":[],"outputs":[{"source":"452d9160-6b92-46eb-d20c-dbab050fc182:output:UserKey","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:processedUserKey"},{"source":"452d9160-6b92-46eb-d20c-dbab050fc182:output:FullName","target":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:input:processedUserName"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"UserKey","type":"","label":"User Key","description":"","documentation":"","example":"","dataType":""},{"id":"FullName","type":"","label":"Name","description":"","documentation":"","example":"","dataType":""},{"id":"Phone","type":"","label":"Phone","description":"","documentation":"","example":"","dataType":""},{"id":"Email","type":"","label":"Email","description":"","documentation":"","example":"","dataType":""},{"id":"LoginID","type":"","label":"Login ID","description":"","documentation":"","example":"","dataType":""},{"id":"UserType","type":"","label":"Type","description":"","documentation":"","example":"","dataType":""},{"id":"SiteKey","type":"","label":"Site","description":"","documentation":"","example":"","dataType":""}]},{"title":"Action","type":"actionstart","id":"4efe18b4-1ab1-4ca6-b812-6366f1e9129d","position":{"left":66,"top":84.99999618530273},"surface":"DeleteAll","connections":{"inputs":[],"outputs":[{"source":"4efe18b4-1ab1-4ca6-b812-6366f1e9129d:output:output","target":"8a5a68eb-a8bb-408e-dad7-5a96fc27c24d:input:trigger"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""}],"actionName":"DeleteAll","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false,"docs":""},{"title":"Action","type":"actionstart","id":"e4271621-0328-4fc2-8b27-00c4478d7057","position":{"left":50,"top":108},"surface":"GetRequestDetails","connections":{"inputs":[],"outputs":[{"source":"e4271621-0328-4fc2-8b27-00c4478d7057:output:id","target":"d9b00253-c1b3-437d-fe5f-933ee5adf89c:input:_id"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"id","type":"","label":"id","description":"","documentation":"","example":"","dataType":""}],"actionName":"GetRequestDetails","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false,"docs":""},{"title":"Update one document","type":"modelcollections:updateone","id":"1a7d7b3d-159e-495e-e6de-a3723fbf18fb","position":{"left":766.0000343322754,"top":65},"surface":"UpdateRequestStatus","connections":{"inputs":[{"source":"3e9f4197-259a-4e5f-8ca2-e4112a95adb2:output:id","target":"1a7d7b3d-159e-495e-e6de-a3723fbf18fb:input:_id"},{"source":"2c9b3e5e-9d9a-4011-cc88-3ce09b284fe1:output:output","target":"1a7d7b3d-159e-495e-e6de-a3723fbf18fb:input:__data__"}],"outputs":[{"source":"1a7d7b3d-159e-495e-e6de-a3723fbf18fb:output:output","target":"0269b6de-d948-4e4e-fa0c-7b29c9560534:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"__data__","type":"","label":"Data","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"_id","type":"","label":"_id","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":"","example":"","dataType":""},{"id":"output","type":"","label":"All Output","description":"","documentation":"","example":"","dataType":""}],"CollectionName":"43f8d355-fe35-4474-c11b-a6fe651f3ceb","configuration":"[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"_id\",\"Operator\":\"eq\",\"Value\":\"_id\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":false,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Output","type":"actionoutput","id":"1f69da27-d6e3-40d6-8152-a2e77225cbc7","position":{"left":708,"top":185},"surface":"GetRequestDetails","connections":{"inputs":[{"source":"d9b00253-c1b3-437d-fe5f-933ee5adf89c:output:output","target":"1f69da27-d6e3-40d6-8152-a2e77225cbc7:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"request"}],"position":{"top":0,"left":0}},"sources":[{"name":"UpdateRequestStatus","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["id","status"]},{"name":"CreateRequest","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["title","description"]},{"name":"DeleteAll","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":[]},{"name":"GetRequestDetails","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["request"],"parameters":["id"]},{"name":"UpdateRequest","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["id","data"]},{"name":"GetRequests","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["requests"],"parameters":["max","last","args"]}],"actions":[{"name":"UpdateRequestStatus","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["id","status"]},{"name":"CreateRequest","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["title","description"]},{"name":"DeleteAll","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":[]},{"name":"GetRequestDetails","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["request"],"parameters":["id"]},{"name":"UpdateRequest","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["id","data"]},{"name":"GetRequests","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["requests"],"parameters":["max","last","args"]}],"uioptions":{}},"UIDefinition":null,"MetadataDictionary":"{\"title\":\"ServiceRequestProvider\",\"description\":\"Storage provider for service requests\",\"tags\":[],\"capabilities\":[\"service-request-provider\"],\"onSave\":\"\"}","Icon":"","ApiRoutes":[],"JSModules":[],"ModelCollections":[{"Key":"2328","MapKey":"1414","GUID":"43f8d355-fe35-4474-c11b-a6fe651f3ceb","Attributes":"[{\"name\":\"title\"},{\"name\":\"description\"},{\"name\":\"requestedUserKey\"},{\"name\":\"requestedAt\"},{\"name\":\"status\"},{\"name\":\"processedUserKey\"},{\"name\":\"processedAt\"},{\"name\":\"notes\"},{\"name\":\"requestedUserName\"},{\"name\":\"processedUserName\"},{\"name\":\"referenceNumber\"}]","Name":"requests"}]}]}